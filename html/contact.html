<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
   <link rel="icon" href="/game-hub/images/logo1.ico" type="image/png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Contact - Gaming Hub</title>
  <link rel="stylesheet" href="../css/contact.css">
</head>
<body>
  <!-- Header -->
  <div id="header"></div>

  <!-- Contact Section -->
  <section class="contact container">
    <h2>Contact Us</h2>
    <p class="intro">
      Got a question, suggestion, or feedback? Fill out the form below and we‚Äôll get back to you as soon as possible!
    </p>

    <form class="contact-form">
      <div class="form-group">
        <label for="name">Full Name</label>
        <input type="text" id="name" placeholder="Enter your full name" required>
      </div>

      <div class="form-group">
        <label for="email">Email Address</label>
        <input type="email" id="email" placeholder="Enter your email" required>
      </div>

      <div class="form-group">
        <label for="message">Your Message</label>
        <textarea id="message" rows="6" placeholder="Type your message..." required></textarea>
      </div>

      <button type="submit" class="btn">Send Message</button>
    </form>
  </section>

  <!-- ‚úÖ Popup container -->
  <div id="popup" class="popup hidden">
    <div class="popup-content">
      <p id="popup-text"></p>
    </div>
  </div>

  <!-- Footer -->
  <div id="footer"></div>

  <script>
    document.querySelector(".contact-form").addEventListener("submit", async (e) => {
      e.preventDefault();

      const name = document.getElementById("name").value.trim();
      const email = document.getElementById("email").value.trim();
      const message = document.getElementById("message").value.trim();
      const popup = document.getElementById("popup");
      const popupText = document.getElementById("popup-text");

      const showPopup = (text, success = true) => {
        popupText.textContent = text;
        popup.className = `popup ${success ? "success" : "error"}`;
        popup.classList.remove("hidden");
        setTimeout(() => popup.classList.add("hidden"), 3000);
      };

      if (!name || !email || !message) {
        showPopup("‚ùóPlease fill in all fields.", false);
        return;
      }

      const BOT_TOKEN = "8406551927:AAEE1z-gUlZJwsdZ5bOl95f1lcgxcIWs0q0"; // Replace with your bot token
      const ADMIN_CHAT_ID = "-1003030763258"; // Keep the negative sign

      const text = `
üì¨ *New Contact Message!*

üë§ *Name:* ${name}
üìß *Email:* ${email}
üí¨ *Message:* ${message}
`;

      try {
        const res = await fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendMessage`, {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({ chat_id: ADMIN_CHAT_ID, text, parse_mode: "Markdown" }),
        });

        if (res.ok) {
          showPopup("‚úÖ Message sent successfully!");
          document.querySelector(".contact-form").reset();
        } else {
          showPopup("‚ö†Ô∏è Failed to send message. Try again later.", false);
        }
      } catch {
        showPopup("‚ùå Network error. Try again later.", false);
      }
    });
  </script>

  <script src="../js/main.js"></script>
</body>
</html>
